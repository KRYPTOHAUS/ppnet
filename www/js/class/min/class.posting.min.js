function Posting(e,s,o){switch(scope=e,s){case"posting":this.doc=o.doc,this.id=o.id?o.id:o.doc._id,e.types[o.id]={type:"POST"},scope.likes[o.id]||(scope.likes[o.id]=new Array),scope.comments[o.id]||(scope.comments[o.id]=new Array)}return this}var scope;Posting.prototype.delete=function(){scope.db.get(this.id,function(e,s){console.log(s),pusher=new Array,pusher.push(s._id),angular.forEach(scope.likes[s._id],function(e){scope.like_functions.delete(e,0),pusher.push(e.id)}),angular.forEach(scope.comments[s._id],function(e){scope.comment_functions.delete(e,0),pusher.push(e.id)}),scope.global_functions.toPush(pusher)})};