function Database(o){PouchDB.DEBUG=!0;var e="ppnet_0603";o.db=new PouchDB(e,{debug:!0,auto_compaction:!0});var n=window.location.hostname;n=n.split("."),pos=n.length-1,n=n[pos],o.remoteCouch="local"==n?"http://localhost:5984/"+e:"http://couchdb.simple-url.com:5984/"+e,o.sync=function(){console.log("sync");var e={continuous:!0,include_docs:!0};o.db.replicate.from(o.remoteCouch,e)};var t=function(e){console.log("START: initialReplicateFrom ("+e+")");var n={complete:function(){console.log("FINISH: initialReplicateFrom ("+e+") args")},onChange:function(){},filter:function(o){var n=e-864e5;return o.created>n?!0:!1}};o.db.replicate.from(o.remoteCouch,n)};o.remoteCouch&&(o.sync(),t((new Date).getTime())),Offline.on("up",function(){o.sync(),t((new Date).getTime())},"")}